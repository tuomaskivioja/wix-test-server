import { aNumber, aString } from '@wix/motion-runtime-test-context';
import { times } from 'lodash';
import { constants, lastPathSegmentOf, parentPathOf, segmentCount } from '..';
describe('generators commons', () => {
    describe('constants', () => {
        test('exposes a constant for the default query property name', () => {
            expect(constants.DEFAULT_REQUEST_QUERY_OBJECT_PROPERTY_NAME).toBeDefined();
        });
        test('exposes a constant for the artifact group id', () => {
            expect(constants.ARTIFACT_GROUP_ID).toBeDefined();
        });
        test('exposes a constant for the as-admin namespaces', () => {
            expect(constants.AS_ADMIN_NAMESPACE_NAME).toBeDefined();
        });
        test('exposes PagingMethods', () => {
            expect(typeof constants.PagingMethods).toEqual('object');
        });
        test('exposes Elevations', () => {
            expect(typeof constants.Elevations).toEqual('object');
        });
    });
    describe('segmentCount', () => {
        test('return the count of segments in a dot-separated path', () => {
            const expectedLength = aNumber({ min: 1, max: 10 });
            const path = times(expectedLength, () => aString()).join('.');
            expect(segmentCount(path)).toStrictEqual(expectedLength);
        });
    });
    describe('parentPathOf', () => {
        test('returns the path without the last segment', () => {
            const parentPath = times(2, () => aString()).join('.');
            const lastSegment = aString();
            const path = [parentPath, lastSegment].join('.');
            expect(parentPathOf(path)).toStrictEqual(parentPath);
        });
    });
    describe('lastPathSegmentOf', () => {
        test('returns the last segment of the given path', () => {
            const pathSegments = times(aNumber({ min: 1, max: 3 }), () => aString());
            const path = pathSegments.join('.');
            expect(lastPathSegmentOf(path)).toStrictEqual(pathSegments.pop());
        });
    });
});
//# sourceMappingURL=unit.spec.js.map