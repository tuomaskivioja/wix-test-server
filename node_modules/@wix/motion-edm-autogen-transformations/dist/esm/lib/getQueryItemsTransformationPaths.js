import { reduceTransformation, stripJsonPathRootPrefix, } from '@wix/motion-edm-autogen-transformations-core';
// TODO: Pass the item transformation instead of the entire response transformation
// in here. This will make this function simpler (we won't need to use reduceTransformation recursively)
const getQueryItemsTransformationPaths = (transformation) => reduceTransformation(transformation, {
    visitors: {
        MapArrayItems: (accumulator, _parentPath, _sourceArrayExpression, itemTransformation) => reduceTransformation(itemTransformation, {
            visitors: {
                NestedSimpleTransformationExpression(acc, path, value) {
                    acc[path] = stripJsonPathRootPrefix(value);
                },
            },
            accumulator,
        }),
    },
    accumulator: {},
}) || {};
export { getQueryItemsTransformationPaths };
//# sourceMappingURL=getQueryItemsTransformationPaths.js.map