{"version":3,"names":["_domain","require","_baseMedia","WIX_AUDIO","WIX_AUDIO_COMMON_TYPE","baseMediaConverter","createMediaConverter","audio","exports","types","ConverterType","FROM_JSON","transform","val","duration","url","id","TO_JSON"],"sources":["../../../../src/serializer/velo-converters/audio.ts"],"sourcesContent":["import type com from '../../proto';\nimport { ConverterSet, ConverterType } from '../domain';\nimport { createMediaConverter } from './base-media';\n\nconst WIX_AUDIO = 'audio';\nconst WIX_AUDIO_COMMON_TYPE = 'wix.common.Audio';\n\nconst baseMediaConverter = createMediaConverter<com.wix.common.Audio>(\n  WIX_AUDIO,\n  WIX_AUDIO_COMMON_TYPE,\n);\n\nexport const audio: ConverterSet = {\n  types: [WIX_AUDIO_COMMON_TYPE],\n\n  [ConverterType.FROM_JSON]: {\n    transform: (val: com.wix.common.Audio) => {\n      const duration = val?.duration ?? 0;\n      const url = baseMediaConverter[ConverterType.FROM_JSON].transform(val);\n      return `${url}${val?.id ? `#duration=${duration}` : ''}`;\n    },\n  },\n\n  [ConverterType.TO_JSON]: {\n    transform: (val: string): com.wix.common.Audio | undefined => {\n      return baseMediaConverter[ConverterType.TO_JSON].transform(val);\n    },\n  },\n};\n"],"mappings":";;;;AACA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,UAAA,GAAAD,OAAA;AAEA,MAAME,SAAS,GAAG,OAAO;AACzB,MAAMC,qBAAqB,GAAG,kBAAkB;AAEhD,MAAMC,kBAAkB,GAAG,IAAAC,+BAAoB,EAC7CH,SAAS,EACTC,qBACF,CAAC;AAEM,MAAMG,KAAmB,GAAAC,OAAA,CAAAD,KAAA,GAAG;EACjCE,KAAK,EAAE,CAACL,qBAAqB,CAAC;EAE9B,CAACM,qBAAa,CAACC,SAAS,GAAG;IACzBC,SAAS,EAAGC,GAAyB,IAAK;MACxC,MAAMC,QAAQ,GAAG,CAAAD,GAAG,oBAAHA,GAAG,CAAEC,QAAQ,KAAI,CAAC;MACnC,MAAMC,GAAG,GAAGV,kBAAkB,CAACK,qBAAa,CAACC,SAAS,CAAC,CAACC,SAAS,CAACC,GAAG,CAAC;MACtE,OAAO,GAAGE,GAAG,GAAGF,GAAG,YAAHA,GAAG,CAAEG,EAAE,GAAG,aAAaF,QAAQ,EAAE,GAAG,EAAE,EAAE;IAC1D;EACF,CAAC;EAED,CAACJ,qBAAa,CAACO,OAAO,GAAG;IACvBL,SAAS,EAAGC,GAAW,IAAuC;MAC5D,OAAOR,kBAAkB,CAACK,qBAAa,CAACO,OAAO,CAAC,CAACL,SAAS,CAACC,GAAG,CAAC;IACjE;EACF;AACF,CAAC","ignoreList":[]}