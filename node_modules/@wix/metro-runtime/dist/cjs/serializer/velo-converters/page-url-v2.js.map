{"version":3,"names":["_domain","require","pageUrlV2","exports","types","ConverterType","FROM_JSON","transform","val","url","TO_JSON","pathname","URL","relativePath"],"sources":["../../../../src/serializer/velo-converters/page-url-v2.ts"],"sourcesContent":["import type com from '../../proto';\nimport { ConverterSet, ConverterType } from '../domain';\n\nexport const pageUrlV2: ConverterSet = {\n  types: ['wix.common.PageUrlV2'],\n\n  [ConverterType.FROM_JSON]: {\n    transform: (val: com.wix.common.PageUrlV2) => {\n      if (!val) {\n        return;\n      }\n\n      return val.url;\n    },\n  },\n\n  [ConverterType.TO_JSON]: {\n    transform: (val: string): com.wix.common.PageUrlV2 | undefined => {\n      if (!val) {\n        return;\n      }\n\n      const { pathname } = new URL(val);\n\n      return {\n        relativePath: pathname, // (e.g /product-page/a-product)\n        url: val, // (e.g https://mysite.com/product-page/a-product)\n      };\n    },\n  },\n};\n"],"mappings":";;;;AACA,IAAAA,OAAA,GAAAC,OAAA;AAEO,MAAMC,SAAuB,GAAAC,OAAA,CAAAD,SAAA,GAAG;EACrCE,KAAK,EAAE,CAAC,sBAAsB,CAAC;EAE/B,CAACC,qBAAa,CAACC,SAAS,GAAG;IACzBC,SAAS,EAAGC,GAA6B,IAAK;MAC5C,IAAI,CAACA,GAAG,EAAE;QACR;MACF;MAEA,OAAOA,GAAG,CAACC,GAAG;IAChB;EACF,CAAC;EAED,CAACJ,qBAAa,CAACK,OAAO,GAAG;IACvBH,SAAS,EAAGC,GAAW,IAA2C;MAChE,IAAI,CAACA,GAAG,EAAE;QACR;MACF;MAEA,MAAM;QAAEG;MAAS,CAAC,GAAG,IAAIC,GAAG,CAACJ,GAAG,CAAC;MAEjC,OAAO;QACLK,YAAY,EAAEF,QAAQ;QAAE;QACxBF,GAAG,EAAED,GAAG,CAAE;MACZ,CAAC;IACH;EACF;AACF,CAAC","ignoreList":[]}