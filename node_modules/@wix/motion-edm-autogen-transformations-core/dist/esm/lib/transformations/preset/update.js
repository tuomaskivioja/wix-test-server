import { merge, set } from 'lodash';
import { unwrap as buildResponseTransformation } from '../common';
const objectWithNestedPath = (path, value) => set({}, path, value);
const buildRequestTransformation = ({ requestMessageEntityIdentifierField, requestMessageEntityPath, requestMessageOptionsPath, }) => {
    const transformation = objectWithNestedPath(`${requestMessageEntityPath}.${requestMessageEntityIdentifierField}`, '$[0]');
    if (requestMessageOptionsPath) {
        if (requestMessageOptionsPath === requestMessageEntityPath) {
            return merge(transformation, objectWithNestedPath(requestMessageOptionsPath, {
                '*': ['$[1]', '$[2]'],
            }));
        }
        set(transformation, requestMessageOptionsPath, '$[2]');
    }
    return merge({}, transformation, objectWithNestedPath(requestMessageEntityPath, { '*': '$[1]' }));
};
export { buildRequestTransformation, buildResponseTransformation };
//# sourceMappingURL=update.js.map