import { segmentCount } from '@wix/motion-edm-autogen-common';
import { merge, set } from 'lodash';
import { transformations } from '../common';
const { RESPONSE_OBJECT_UNCHANGED } = transformations;
const contains = (longerPath, shorterPath) => longerPath.startsWith(shorterPath) &&
    segmentCount(longerPath) === segmentCount(shorterPath) + 1;
const buildRequestTransformation = ({ requestMessageIdentifierPath, requestMessageOptionsPath, }) => {
    const transformed = set({}, requestMessageIdentifierPath, '$[0]');
    if (requestMessageOptionsPath) {
        if (contains(requestMessageIdentifierPath, requestMessageOptionsPath)) {
            return merge(transformed, {
                [requestMessageOptionsPath]: { '*': '$[1]' },
            });
        }
        return set(transformed, requestMessageOptionsPath, '$[1]');
    }
    return transformed;
};
const buildResponseTransformation = () => RESPONSE_OBJECT_UNCHANGED;
export { buildRequestTransformation, buildResponseTransformation };
//# sourceMappingURL=delete.js.map